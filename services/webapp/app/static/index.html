<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–≠–º–æ—Ü–∏–∏ —Å –≤–µ–±-–∫–∞–º–µ—Ä—ã</title>
  <style>
    body { font-family: system-ui; margin: 2rem; }
    video, canvas { width: 100%; border-radius: 12px; background:#000; }
    .wrap { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
    .card { border:1px solid #ddd; border-radius:10px; padding:1rem; }
    .tag { border:1px solid #ccc; border-radius:999px; padding:2px 6px; margin-right:4px; }
    .muted { color:#666; }
    pre { white-space: pre-wrap; word-wrap: break-word; margin: .5rem 0 0; }
    button { padding:.5rem .9rem; border-radius:8px; border:1px solid #ccc; background:#fafafa; cursor:pointer; }
    button[disabled] { opacity:.5; cursor:not-allowed; }
  </style>
</head>
<body>
  <h1>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</h1>

  <!-- –í–∏–¥–µ–æ–ø–æ—Ç–æ–∫ –∏ —ç–º–æ—Ü–∏–∏ -->
  <div class="wrap">
    <div class="card">
      <video id="video" autoplay playsinline></video>
      <br />
      <button id="startBtn">–°—Ç–∞—Ä—Ç</button>
      <button id="stopBtn" disabled>–°—Ç–æ–ø</button>
      <span id="status" class="muted"></span>
    </div>
    <div class="card">
      <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç (—ç–º–æ—Ü–∏–∏)</h3>
      <div id="emotion">‚Äî</div>
      <div id="probs"></div>
      <canvas id="canvas" style="display:none;"></canvas>
    </div>

    <!-- –ù–æ–≤—ã–π –±–ª–æ–∫: —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ -->
    <div class="card">
      <h3>–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏</h3>
      <p class="muted" style="margin-top:0">–í–∫–ª—é—á–∏—Ç–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω ‚Äî —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç –ø–æ—è–≤–∏—Ç—Å—è –Ω–∏–∂–µ.</p>
      <div style="margin-top:1rem">
        <label>–ú–∏–∫—Ä–æ—Ñ–æ–Ω:
          <select id="micSelect"></select>
        </label>
      </div>

      <button id="micStart">üéôÔ∏è –°—Ç–∞—Ä—Ç –º–∏–∫—Ä–æ—Ñ–æ–Ω</button>
      <button id="micStop" disabled>–°—Ç–æ–ø</button>
      <div style="margin-top:.75rem">
        <strong>–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ:</strong>
        <span id="speech-partial" class="muted"></span>
      </div>
      <div style="margin-top:.5rem">
        <strong>–ì–æ—Ç–æ–≤–æ:</strong>
        <pre id="speech-final"></pre>
      </div>
    </div>
    <!-- –ü—É—Å—Ç–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è —Å–µ—Ç–∫–∏ -->
    <div class="card" style="display:none"></div>
  </div>

  <script src="/static/client.js"></script>
</body>
</html>

